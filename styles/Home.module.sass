@import './designSystem'

.main
  margin-top: calc(env(safe-area-inset-top) + rem(114))
  padding: rem(7) calc(env(safe-area-inset-right) + rem(12)) rem(7) calc(env(safe-area-inset-left) + rem(12))
  min-height: calc(100dvh - rem(78))
  font-size: rem(16)

  .loading, .error
    display: flex
    justify-content: center
    align-items: center
    height: calc(100dvh - rem(133))
    font-weight: 700
    color: $hex-accent
    text-align: center

  .error
    gap: rem(15)

    button
      background: none
      text-decoration: underline
      color: $hex-accent

  h1
    display: flex
    gap: rem(2)
    padding: rem(15) rem(7) rem(3)
    font-size: rem(20)
    font-weight: 800
    line-height: 1.2

    +mq(maxSmall)
      flex-direction: column

    +mq(minMedium)
      align-items: flex-end
      gap: rem(17)

    span
      display: flex
      gap: rem(5)

    i::before
      content: '•'
      position: relative
      top: rem(-2)
      padding: 0 rem(4)
      font-size: rem(20)
      font-style: normal
      color: $hex-accent

    em
      font-size: rem(16)
      font-weight: 900
      font-style: normal
      color: $hex-accent

      +mq(maxSmall)
        padding-left: rem(17)

  .jejeup-content
    display: flex
    padding: rem(5) 0
    transition: all .4s cubic-bezier(.4,0,.2,1)

    +mq(maxExtraSmall)
      flex-direction: column

    +mq(minSmall)
      flex-wrap: wrap

  .item
    display: flex
    padding: rem(10)

    +mq(minSmall)
      width: 50%

    +mq(minLarge)
      width: 33.33%

    +mq(minExtraLarge)
      width: 25%

  figure
    transition: all .4s cubic-bezier(.4,0,.2,1)
    display: flex
    flex-direction: column
    gap: rem(7)
    border: 1px solid rgba($hex-dark, .2)
    border-radius: rem(3)
    overflow: hidden
    width: 100%

    .preview
      position: relative
      padding: rem(15) rem(15) 0

      .preview-container
        display: flex
        flex-direction: column
        gap: rem(12)

        .thumbnail
          position: relative
          aspect-ratio: 1920 / 1080

          img
            display: block
            border-radius: rem(3)
            aspect-ratio: 1920 / 1080
            object-fit: cover
            width: 100%!important
            height: auto!important

          em
            position: absolute
            right: rem(4)
            bottom: rem(4)
            background-color: $hex-black
            border-radius: rem(4)
            padding: rem(3) rem(4)
            font-size: rem(12)
            font-weight: 700
            font-style: normal
            color: $hex-white
            line-height: 1

        .preview-info
          display: flex
          flex-direction: column
          user-select: none
          cursor: default

          .detail
            display: flex
            gap: rem(7)

            img
              border-radius: 100%
              width: rem(36)
              height: rem(36)

            .user-info
              display: flex
              flex-direction: column
              gap: rem(4)
              color: $hex-dark
              user-select: none
              cursor: default

              strong
                +line-abbr(2, 36, 18px)
                font-size: rem(14)
                font-weight: 700
                color: $hex-dark

              .user
                font-size: rem(14)
                font-weight: 400
                line-height: 1.175

                cite, time
                  display: inline-flex
                  align-items: center
                  font-size: rem(14)
                  color: $hex-dark

                cite
                  &::after
                    content: '•'
                    padding: 0 rem(4)
                    font-size: rem(14)
                    color: $hex-dark

              .worst
                padding-bottom: rem(3)

                button
                  background-color: $hex-accent
                  border-radius: rem(3)
                  padding: rem(3) rem(5)
                  font-size: rem(12)
                  font-weight: 800
                  text-transform: uppercase
                  color: $hex-white

    figcaption
      display: flex
      flex-direction: column
      gap: rem(7)
      border-top: 1px solid rgba($hex-dark, .2)
      padding: rem(12) rem(15) rem(15)

      .worst
        padding-bottom: rem(7)

        dt
          +screen-reader-only

        dd
          font-size: rem(12)
          font-weight: 900
          color: $hex-accent

      .summary
        display: flex
        flex-direction: column
        gap: rem(7)

        dt
          height: rem(24)
          white-space: nowrap
          line-height: rem(24)

          cite
            display: inline-flex
            align-items: center
            height: rem(24)
            margin-right: rem(5)
            font-size: rem(14)
            font-weight: 800
            font-style: normal
            color: $hex-accent

            & + i
              position: relative
              top: rem(-3)

            i
              display: inline-block
              margin-right: rem(7)
              height: rem(16)

          em
            display: inline-flex
            height: rem(24)
            margin-right: rem(3)
            border: 2px solid $hex-accent
            border-radius: rem(3)
            padding: rem(3) rem(5)
            font-size: rem(14)
            font-weight: 700
            line-height: 1
            font-style: normal
            color: $hex-accent
            vertical-align: top

            & + i.rating
              vertical-align: top

          > i
            display: inline-flex
            width: rem(24)
            height: rem(24)
            margin-left: rem(3)
            padding: rem(6) 0 rem(10)
            font-size: rem(12)
            font-weight: 800
            font-style: normal
            line-height: 1
            color: $hex-white

            &.drama
              background-color: #FFCB00
              border-radius: rem(24)
              color: $hex-black
              justify-content: center

              &.all
                font-size: rem(10)

              &.d19
                background-color: #D61D28
                color: $hex-white

            &.rating
              padding: 0
              vertical-align: bottom

            &.rating + span
              +screen-reader-only

        dd
          padding-top: rem(3)

          strong
            font-size: rem(16)
            font-weight: 800
            line-height: 1.125
            color: $hex-dark

            span
              font-weight: 600
              white-space: break-spaces
              word-wrap: break-word
              word-break: normal

              &[lang="en"], &[lang="ko"]
                font-weight: 800

              &.origin
                padding-right: rem(7)
                padding-left: rem(3)
                font-weight: 400
                font-size: rem(14)
                color: rgba($hex-dark, .7)

            time
              padding-left: rem(3)
              font-size: rem(14)
              font-weight: 400
              color: $hex-dark

          em
            display: block
            font-size: rem(14)
            font-style: normal
            color: $hex-accent

      a:hover, a:focus
        .summary dd strong
          text-decoration: underline

      .info
        display: flex
        flex-direction: column
        gap: rem(3)

        > div
          display: inline-flex
          gap: rem(7)

        dt, dd
          font-size: rem(14)

        dt
          width: rem(70)
          color: $hex-accent
          white-space: nowrap

        dd
          +col
          font-weight: 800
          color: $hex-dark
